{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":66,"index":66}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}},{"name":"./PushTokenManager","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":67},"end":{"line":2,"column":50,"index":117}}],"key":"/U/z9wvFThAkR9FZ1qxFHdWzZ18=","exportNames":["*"],"imports":1}},{"name":"./warnOfExpoGoPushUsage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":118},"end":{"line":3,"column":64,"index":182}}],"key":"JoKHHQXXGY91wSaWh9AbqdpRHBQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.getDevicePushTokenAsync = getDevicePushTokenAsync;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoModulesCore = require(_dependencyMap[1], \"expo-modules-core\");\n  var _PushTokenManager = require(_dependencyMap[2], \"./PushTokenManager\");\n  var PushTokenManager = _interopDefault(_PushTokenManager);\n  var _warnOfExpoGoPushUsage = require(_dependencyMap[3], \"./warnOfExpoGoPushUsage\");\n  var nativeTokenPromise = null;\n  /**\n   * Returns a native FCM, APNs token or a [`PushSubscription` data](https://developer.mozilla.org/en-US/docs/Web/API/PushSubscription)\n   * that can be used with another push notification service.\n   * @header fetch\n   */\n  function getDevicePushTokenAsync() {\n    return _getDevicePushTokenAsync.apply(this, arguments);\n  }\n  function _getDevicePushTokenAsync() {\n    _getDevicePushTokenAsync = (0, _asyncToGenerator.default)(function* () {\n      if (!PushTokenManager.default.getDevicePushTokenAsync) {\n        throw new _expoModulesCore.UnavailabilityError('ExpoNotifications', 'getDevicePushTokenAsync');\n      }\n      (0, _warnOfExpoGoPushUsage.warnOfExpoGoPushUsage)();\n      var devicePushToken;\n      if (nativeTokenPromise) {\n        // Reuse existing Promise\n        devicePushToken = yield nativeTokenPromise;\n      } else {\n        // Create a new Promise and clear it afterwards\n        nativeTokenPromise = PushTokenManager.default.getDevicePushTokenAsync();\n        devicePushToken = yield nativeTokenPromise;\n        nativeTokenPromise = null;\n      }\n      // @ts-ignore: TS thinks Platform.OS could be anything and can't decide what type is it\n      return {\n        type: _expoModulesCore.Platform.OS,\n        data: devicePushToken\n      };\n    });\n    return _getDevicePushTokenAsync.apply(this, arguments);\n  }\n});","lineCount":52,"map":[[12,2,10,0,"exports"],[12,9,10,0],[12,10,10,0,"getDevicePushTokenAsync"],[12,33,10,0],[12,36,10,0,"getDevicePushTokenAsync"],[12,59,10,0],[13,2,28,1],[13,6,28,1,"_babelRuntimeHelpersAsyncToGenerator"],[13,42,28,1],[13,45,28,1,"require"],[13,52,28,1],[13,53,28,1,"_dependencyMap"],[13,67,28,1],[14,2,28,1],[14,6,28,1,"_asyncToGenerator"],[14,23,28,1],[14,26,28,1,"_interopDefault"],[14,41,28,1],[14,42,28,1,"_babelRuntimeHelpersAsyncToGenerator"],[14,78,28,1],[15,2,1,0],[15,6,1,0,"_expoModulesCore"],[15,22,1,0],[15,25,1,0,"require"],[15,32,1,0],[15,33,1,0,"_dependencyMap"],[15,47,1,0],[16,2,2,0],[16,6,2,0,"_PushTokenManager"],[16,23,2,0],[16,26,2,0,"require"],[16,33,2,0],[16,34,2,0,"_dependencyMap"],[16,48,2,0],[17,2,2,0],[17,6,2,0,"PushTokenManager"],[17,22,2,0],[17,25,2,0,"_interopDefault"],[17,40,2,0],[17,41,2,0,"_PushTokenManager"],[17,58,2,0],[18,2,3,0],[18,6,3,0,"_warnOfExpoGoPushUsage"],[18,28,3,0],[18,31,3,0,"require"],[18,38,3,0],[18,39,3,0,"_dependencyMap"],[18,53,3,0],[19,2,4,0],[19,6,4,4,"nativeTokenPromise"],[19,24,4,22],[19,27,4,25],[19,31,4,29],[20,2,5,0],[21,0,6,0],[22,0,7,0],[23,0,8,0],[24,0,9,0],[25,2,5,0],[25,11,10,22,"getDevicePushTokenAsync"],[25,34,10,45,"getDevicePushTokenAsync"],[25,35,10,45],[26,4,10,45],[26,11,10,45,"_getDevicePushTokenAsync"],[26,35,10,45],[26,36,10,45,"apply"],[26,41,10,45],[26,48,10,45,"arguments"],[26,57,10,45],[27,2,10,45],[28,2,10,45],[28,11,10,45,"_getDevicePushTokenAsync"],[28,36,10,45],[29,4,10,45,"_getDevicePushTokenAsync"],[29,28,10,45],[29,35,10,45,"_asyncToGenerator"],[29,52,10,45],[29,53,10,45,"default"],[29,60,10,45],[29,62,10,7],[29,75,10,48],[30,6,11,4],[30,10,11,8],[30,11,11,9,"PushTokenManager"],[30,27,11,25],[30,28,11,25,"default"],[30,35,11,25],[30,36,11,26,"getDevicePushTokenAsync"],[30,59,11,49],[30,61,11,51],[31,8,12,8],[31,14,12,14],[31,18,12,18,"UnavailabilityError"],[31,34,12,37],[31,35,12,37,"UnavailabilityError"],[31,54,12,37],[31,55,12,38],[31,74,12,57],[31,76,12,59],[31,101,12,84],[31,102,12,85],[32,6,13,4],[33,6,14,4],[33,10,14,4,"warnOfExpoGoPushUsage"],[33,32,14,25],[33,33,14,25,"warnOfExpoGoPushUsage"],[33,54,14,25],[33,56,14,26],[33,57,14,27],[34,6,15,4],[34,10,15,8,"devicePushToken"],[34,25,15,23],[35,6,16,4],[35,10,16,8,"nativeTokenPromise"],[35,28,16,26],[35,30,16,28],[36,8,17,8],[37,8,18,8,"devicePushToken"],[37,23,18,23],[37,32,18,32,"nativeTokenPromise"],[37,50,18,50],[38,6,19,4],[38,7,19,5],[38,13,20,9],[39,8,21,8],[40,8,22,8,"nativeTokenPromise"],[40,26,22,26],[40,29,22,29,"PushTokenManager"],[40,45,22,45],[40,46,22,45,"default"],[40,53,22,45],[40,54,22,46,"getDevicePushTokenAsync"],[40,77,22,69],[40,78,22,70],[40,79,22,71],[41,8,23,8,"devicePushToken"],[41,23,23,23],[41,32,23,32,"nativeTokenPromise"],[41,50,23,50],[42,8,24,8,"nativeTokenPromise"],[42,26,24,26],[42,29,24,29],[42,33,24,33],[43,6,25,4],[44,6,26,4],[45,6,27,4],[45,13,27,11],[46,8,27,13,"type"],[46,12,27,17],[46,14,27,19,"Platform"],[46,30,27,27],[46,31,27,27,"Platform"],[46,39,27,27],[46,40,27,28,"OS"],[46,42,27,30],[47,8,27,32,"data"],[47,12,27,36],[47,14,27,38,"devicePushToken"],[48,6,27,54],[48,7,27,55],[49,4,28,0],[49,5,28,1],[50,4,28,1],[50,11,28,1,"_getDevicePushTokenAsync"],[50,35,28,1],[50,36,28,1,"apply"],[50,41,28,1],[50,48,28,1,"arguments"],[50,57,28,1],[51,2,28,1],[52,0,28,1],[52,3]],"functionMap":{"names":["<global>","getDevicePushTokenAsync"],"mappings":"AAA;OCS;CDkB"},"hasCjsExports":false},"type":"js/module"}]}