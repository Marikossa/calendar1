{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.computeNextBackoffInterval = computeNextBackoffInterval;\n  // See: https://github.com/ide/backoff/blob/0c83ac6/src/backoff.ts\n  function computeNextBackoffInterval(initialBackoff, previousRetryCount, {\n    multiplier = 1.5,\n    randomizationFactor = 0.25,\n    minBackoff = initialBackoff,\n    maxBackoff = Infinity\n  } = {}) {\n    // NOTE: These are internal assumptions/assertions of the backoff function, but we're hardcoding\n    // these values, so they're replaced with conditions instead, to make this self-documenting\n    // The initial backoff interval must be positive\n    if (initialBackoff <= 0) initialBackoff = 1;\n    // The previous retry count must not be negative\n    if (previousRetryCount < 0) previousRetryCount = 0;\n    // The backoff multiplier must be greater than or equal to 1\n    if (multiplier < 1) multiplier = 1;\n    // The minimum backoff interval must be positive\n    if (randomizationFactor < 0 || randomizationFactor > 1) randomizationFactor = 0;\n    const nextBackoff = initialBackoff * multiplier ** previousRetryCount;\n    // Apply jitter within the negative to positive range of the randomization factor\n    const jitterFactor = 1 - randomizationFactor + 2 * randomizationFactor * Math.random();\n    return Math.min(Math.max(nextBackoff * jitterFactor, minBackoff), maxBackoff);\n  }\n});","lineCount":30,"map":[[7,2,2,0,"exports"],[7,9,2,0],[7,10,2,0,"computeNextBackoffInterval"],[7,36,2,0],[7,39,2,0,"computeNextBackoffInterval"],[7,65,2,0],[8,2,1,0],[9,2,2,7],[9,11,2,16,"computeNextBackoffInterval"],[9,37,2,42,"computeNextBackoffInterval"],[9,38,2,43,"initialBackoff"],[9,52,2,57],[9,54,2,59,"previousRetryCount"],[9,72,2,77],[9,74,2,79],[10,4,2,81,"multiplier"],[10,14,2,91],[10,17,2,94],[10,20,2,97],[11,4,2,99,"randomizationFactor"],[11,23,2,118],[11,26,2,121],[11,30,2,125],[12,4,2,127,"minBackoff"],[12,14,2,137],[12,17,2,140,"initialBackoff"],[12,31,2,154],[13,4,2,156,"maxBackoff"],[13,14,2,166],[13,17,2,169,"Infinity"],[14,2,2,179],[14,3,2,180],[14,6,2,183],[14,7,2,184],[14,8,2,185],[14,10,2,187],[15,4,3,4],[16,4,4,4],[17,4,5,4],[18,4,6,4],[18,8,6,8,"initialBackoff"],[18,22,6,22],[18,26,6,26],[18,27,6,27],[18,29,7,8,"initialBackoff"],[18,43,7,22],[18,46,7,25],[18,47,7,26],[19,4,8,4],[20,4,9,4],[20,8,9,8,"previousRetryCount"],[20,26,9,26],[20,29,9,29],[20,30,9,30],[20,32,10,8,"previousRetryCount"],[20,50,10,26],[20,53,10,29],[20,54,10,30],[21,4,11,4],[22,4,12,4],[22,8,12,8,"multiplier"],[22,18,12,18],[22,21,12,21],[22,22,12,22],[22,24,13,8,"multiplier"],[22,34,13,18],[22,37,13,21],[22,38,13,22],[23,4,14,4],[24,4,15,4],[24,8,15,8,"randomizationFactor"],[24,27,15,27],[24,30,15,30],[24,31,15,31],[24,35,15,35,"randomizationFactor"],[24,54,15,54],[24,57,15,57],[24,58,15,58],[24,60,16,8,"randomizationFactor"],[24,79,16,27],[24,82,16,30],[24,83,16,31],[25,4,17,4],[25,10,17,10,"nextBackoff"],[25,21,17,21],[25,24,17,24,"initialBackoff"],[25,38,17,38],[25,41,17,41,"multiplier"],[25,51,17,51],[25,55,17,55,"previousRetryCount"],[25,73,17,73],[26,4,18,4],[27,4,19,4],[27,10,19,10,"jitterFactor"],[27,22,19,22],[27,25,19,25],[27,26,19,26],[27,29,19,29,"randomizationFactor"],[27,48,19,48],[27,51,19,51],[27,52,19,52],[27,55,19,55,"randomizationFactor"],[27,74,19,74],[27,77,19,77,"Math"],[27,81,19,81],[27,82,19,82,"random"],[27,88,19,88],[27,89,19,89],[27,90,19,90],[28,4,20,4],[28,11,20,11,"Math"],[28,15,20,15],[28,16,20,16,"min"],[28,19,20,19],[28,20,20,20,"Math"],[28,24,20,24],[28,25,20,25,"max"],[28,28,20,28],[28,29,20,29,"nextBackoff"],[28,40,20,40],[28,43,20,43,"jitterFactor"],[28,55,20,55],[28,57,20,57,"minBackoff"],[28,67,20,67],[28,68,20,68],[28,70,20,70,"maxBackoff"],[28,80,20,80],[28,81,20,81],[29,2,21,0],[30,0,21,1],[30,3]],"functionMap":{"names":["<global>","computeNextBackoffInterval"],"mappings":"AAA;OCC;CDmB"},"hasCjsExports":false},"type":"js/module"}]}